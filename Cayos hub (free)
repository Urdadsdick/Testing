-- Load OrionLib
local OrionLib = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Orion/main/source'))()

-- Create GUI Window
local Window = OrionLib:MakeWindow({
    Name = "Cayos Hub for Street Wars 2",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "CayosHubConfig"
})

-- Global variables
_G.speed = 50
_G.autoFarm = false
_G.autoPickup = false
_G.pickupRange = 50
_G.onePunch = false -- Ensure One Punch is initialized

-- One Punch Function
local function enableOnePunch()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    humanoidRootPart.Touched:Connect(function(hit)
        local otherPlayer = game.Players:GetPlayerFromCharacter(hit.Parent)
        if _G.onePunch and otherPlayer and otherPlayer ~= player then
            local otherHumanoid = hit.Parent:FindFirstChild("Humanoid")
            if otherHumanoid then
                otherHumanoid.Health = 0
            end
        end
    end)
end

local function disableOnePunch()
    _G.onePunch = false
end

-- Auto Farm Function
local function startAutoFarm()
    _G.autoFarm = true
    while _G.autoFarm do
        -- Add your autofarm logic here
        task.wait(1)
    end
end

local function stopAutoFarm()
    _G.autoFarm = false
end

-- Auto Pickup Function
local function startAutoPickup()
    _G.autoPickup = true
    while _G.autoPickup do
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()

        for _, item in pairs(workspace:GetChildren()) do
            if item:IsA("Tool") and item.Name:lower():find("gun") then
                local distance = (character.HumanoidRootPart.Position - item.Position).Magnitude
                if distance <= _G.pickupRange then
                    firetouchinterest(character.HumanoidRootPart, item.Handle, 0)
                    firetouchinterest(character.HumanoidRootPart, item.Handle, 1)
                end
            end
        end
        task.wait(0.1)
    end
end

local function stopAutoPickup()
    _G.autoPickup = false
end

-- Player Tab
local playerTab = Window:MakeTab({
    Name = "Player",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

playerTab:AddSlider({
    Name = "Walk Speed",
    Min = 16,
    Max = 100,
    Default = _G.speed,
    Callback = function(value)
        _G.speed = value
        local humanoid = game.Players.LocalPlayer.Character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = _G.speed
        end
    end
})

-- Useful Tab
local usefulTab = Window:MakeTab({
    Name = "Useful",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

usefulTab:AddToggle({
    Name = "One Punch",
    Default = false,
    Callback = function(state)
        _G.onePunch = state
        if _G.onePunch then
            enableOnePunch()  -- Activate One Punch function
        else
            disableOnePunch() -- Deactivate One Punch function
        end
    end
})

-- AutoFarm Tab
local autoFarmTab = Window:MakeTab({
    Name = "AutoFarm",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

autoFarmTab:AddToggle({
    Name = "Enable Auto Farm",
    Default = false,
    Callback = function(state)
        if state then
            startAutoFarm()
        else
            stopAutoFarm()
        end
    end
})

autoFarmTab:AddToggle({
    Name = "Enable Auto Pickup",
    Default = false,
    Callback = function(state)
        if state then
            startAutoPickup()
        else
            stopAutoPickup()
        end
    end
})

-- Credits Tab
local creditsTab = Window:MakeTab({
    Name = "Credits",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

creditsTab:AddParagraph("Credits", "Script by Cayos.\nUI Framework by OrionLib.\nDiscord: [https://discord.gg/yuJB7MkF](https://discord.gg/yuJB7MkF)")
