-- Initialize OrionLib
local OrionLib = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Orion/main/source'))()

local Window = OrionLib:MakeWindow({
    Name = "Cayos Hub for Street Wars 2",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "CayosHubConfig"
})

-- Initialize Global Variables
_G.autoMop = false
_G.autoPickup = false
_G.pickupRange = 5000000
_G.onePunch = false
_G.godMode = false
_G.flying = false
_G.speed = 50
_G.noclip = false

-- Function: Fly
local function startFly()
    if _G.flying then return end
    _G.flying = true
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    
    local bodyGyro = Instance.new("BodyGyro", humanoidRootPart)
    local bodyVelocity = Instance.new("BodyVelocity", humanoidRootPart)
    bodyGyro.P = 9e4
    bodyGyro.MaxTorque = Vector3.new(9e4, 9e4, 9e4)
    bodyGyro.CFrame = humanoidRootPart.CFrame
    bodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)

    while _G.flying do
        bodyGyro.CFrame = workspace.CurrentCamera.CFrame
        bodyVelocity.Velocity = workspace.CurrentCamera.CFrame.LookVector * _G.speed
        task.wait()
    end

    bodyGyro:Destroy()
    bodyVelocity:Destroy()
end

local function stopFly()
    _G.flying = false
end

-- Function: One Punch
local function enableOnePunch()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    humanoidRootPart.Touched:Connect(function(hit)
        local otherPlayer = game.Players:GetPlayerFromCharacter(hit.Parent)
        if otherPlayer and otherPlayer ~= player then
            local otherHumanoid = hit.Parent:FindFirstChild("Humanoid")
            if otherHumanoid then
                otherHumanoid.Health = 0
            end
        end
    end)
end

-- Function: God Mode
local function enableGodMode()
    if _G.godMode then return end
    _G.godMode = true
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:FindFirstChild("Humanoid")

    humanoid:GetPropertyChangedSignal("Health"):Connect(function()
        if _G.godMode and humanoid.Health < humanoid.MaxHealth then
            humanoid.Health = humanoid.MaxHealth
        end
    end)
end

local function disableGodMode()
    _G.godMode = false
end

-- Function: Auto Pickup
local function startAutoPickup()
    _G.autoPickup = true
    while _G.autoPickup do
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()

        for _, item in pairs(workspace:GetChildren()) do
            if item:IsA("Tool") and item.Name:lower():find("gun") then
                local distance = (character.HumanoidRootPart.Position - item.Position).Magnitude
                if distance <= _G.pickupRange then
                    firetouchinterest(character.HumanoidRootPart, item.Handle, 0)
                    firetouchinterest(character.HumanoidRootPart, item.Handle, 1)
                end
            end
        end
        task.wait(0.1)
    end
end

local function stopAutoPickup()
    _G.autoPickup = false
end

-- Function: Auto Mop Farm
local function startAutoMopFarm()
    _G.autoMop = true
    while _G.autoMop do
        local mop = workspace:FindFirstChild("Mop")
        local cashRegister = workspace:FindFirstChild("CashRegister")
        if mop and cashRegister then
            firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, mop, 0)
            firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, cashRegister, 1)
        end
        task.wait(0.1)
    end
end

local function stopAutoMopFarm()
    _G.autoMop = false
end

-- Teleports - Simplified and Direct
local function teleportToLocation(position)
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    character:SetPrimaryPartCFrame(CFrame.new(position))
end

-- Player Tab
local playerTab = Window:MakeTab({
    Name = "Player",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

playerTab:AddSlider({
    Name = "Walk Speed",
    Min = 16,
    Max = 100,
    Default = _G.speed,
    Callback = function(value)
        _G.speed = value
        local player = game.Players.LocalPlayer
        local humanoid = player.Character and player.Character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = _G.speed
        end
    end
})

playerTab:AddButton({
    Name = "Fly",
    Callback = function()
        startFly()
    end
})

playerTab:AddButton({
    Name = "Unfly",
    Callback = function()
        stopFly()
    end
})

-- Gun Tab
local gunTab = Window:MakeTab({
    Name = "Guns",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

gunTab:AddToggle({
    Name = "Enable Auto Gun Pickup",
    Default = false,
    Callback = function(state)
        if state then
            startAutoPickup()
        else
            stopAutoPickup()
        end
    end
})

-- Useful Tab
local usefulTab = Window:MakeTab({
    Name = "Useful",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

usefulTab:AddToggle({
    Name = "God Mode",
    Default = false,
    Callback = function(state)
        if state then
            enableGodMode()
        else
            disableGodMode()
        end
    end
})

usefulTab:AddToggle({
    Name = "One Punch",
    Default = false,
    Callback = function(state)
        _G.onePunch = state
        if _G.onePunch then
            enableOnePunch()
        end
    end
})

-- Misc Tab
local miscTab = Window:MakeTab({
    Name = "Misc",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

miscTab:AddToggle({
    Name = "Auto Mop Farm",
    Default = false,
    Callback = function(state)
        if state then
            startAutoMopFarm()
        else
            stopAutoMopFarm()
        end
    end
})

-- Teleports Tab
local teleportTab = Window:MakeTab({
    Name = "Teleports",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

teleportTab:AddButton({
    Name = "Teleport to Casino",
    Callback = function()
        teleportToLocation(Vector3.new(100, 0, 100)) -- Replace with actual casino coordinates
    end
})

-- Credits Tab
local creditsTab = Window:MakeTab({
    Name = "Credits",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

creditsTab:AddParagraph("Credits", "Script by Cayos.\nUI Framework by OrionLib.\nDiscord: https://discord.gg/yuJB7MkF")
