-- Assuming OrionLib is already loaded and your script is initialized with necessary variables

-- Combat Enhancements Tab
local combatTab = Window:MakeTab({
    Name = "Combat Enhancements",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Auto Aimbot
combatTab:AddToggle({
    Name = "Auto Aimbot",
    Default = false,
    Callback = function(state)
        while state do
            local player = game.Players.LocalPlayer
            local closestEnemy = nil
            local shortestDistance = math.huge
            for _, v in pairs(game.Players:GetPlayers()) do
                if v.Team ~= player.Team and v.Character then
                    local dist = (player.Character.HumanoidRootPart.Position - v.Character.HumanoidRootPart.Position).Magnitude
                    if dist < shortestDistance then
                        closestEnemy = v
                        shortestDistance = dist
                    end
                end
            end
            if closestEnemy then
                player.Character.HumanoidRootPart.CFrame = CFrame.new(closestEnemy.Character.HumanoidRootPart.Position)
            end
            wait(0.1)
        end
    end
})

-- Instant Reload
combatTab:AddButton({
    Name = "Instant Reload",
    Callback = function()
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        for _, tool in pairs(character:GetChildren()) do
            if tool:IsA("Tool") and tool:FindFirstChild("Reload") then
                tool.Reload:Fire()
            end
        end
    end
})

-- Player Tab
local playerTab = Window:MakeTab({
    Name = "Player",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

playerTab:AddSlider({
    Name = "Walk Speed",
    Min = 16,
    Max = 100,
    Default = _G.speed,
    Callback = function(value)
        _G.speed = value
        local player = game.Players.LocalPlayer
        local humanoid = player.Character and player.Character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = _G.speed
        end
    end
})

playerTab:AddButton({
    Name = "Fly",
    Callback = function()
        startFly()
    end
})

playerTab:AddButton({
    Name = "Unfly",
    Callback = function()
        stopFly()
    end
})

-- Teleports Tab
local teleportTab = Window:MakeTab({
    Name = "Teleports",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Teleport to Casino
teleportTab:AddButton({
    Name = "Teleport to Casino",
    Callback = function()
        local casinoLocation = CFrame.new(300, 50, 1200)  -- Update with the actual coordinates of the Casino
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = casinoLocation
    end
})

-- Auto Mop Farm Tab
local mopTab = Window:MakeTab({
    Name = "Auto Mop Farming",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

mopTab:AddToggle({
    Name = "Auto Mop Farm",
    Default = false,
    Callback = function(state)
        if state then
            startAutoMopFarm()
        else
            stopAutoMopFarm()
        end
    end
})

-- Useful Tab
local usefulTab = Window:MakeTab({
    Name = "Useful",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

usefulTab:AddToggle({
    Name = "God Mode",
    Default = false,
    Callback = function(state)
        if state then
            enableGodMode()
        else
            disableGodMode()
        end
    end
})

usefulTab:AddToggle({
    Name = "One Punch",
    Default = false,
    Callback = function(state)
        _G.onePunch = state
        enableOnePunch()
    end
})

usefulTab:AddToggle({
    Name = "Invisible Mode",
    Default = false,
    Callback = function(state)
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:WaitForChild("Humanoid")
        if state then
            character:WaitForChild("HumanoidRootPart").Transparency = 1
            humanoid:MoveTo(Vector3.new(-100, 0, -100))  -- Make sure the character is still valid.
        else
            character:WaitForChild("HumanoidRootPart").Transparency = 0
        end
    end
})

usefulTab:AddToggle({
    Name = "Night Vision",
    Default = false,
    Callback = function(state)
        if state then
            game.Lighting.Ambient = Color3.fromRGB(0, 255, 0)  -- Adds a greenish tint for night vision
        else
            game.Lighting.Ambient = Color3.fromRGB(255, 255, 255)  -- Resets to default lighting
        end
    end
})

-- Movement Enhancements Tab
local movementTab = Window:MakeTab({
    Name = "Movement Enhancements",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

movementTab:AddSlider({
    Name = "Super Speed",
    Min = 50,
    Max = 500,
    Default = 150,
    Callback = function(value)
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = value
        end
    end
})

movementTab:AddButton({
    Name = "Jetpack",
    Callback = function()
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.MaxForce = Vector3.new(100000, 100000, 100000)
        bodyVelocity.Velocity = Vector3.new(0, 100, 0)
        bodyVelocity.Parent = character:WaitForChild("HumanoidRootPart")
    end
})

-- Credits Tab
local creditsTab = Window:MakeTab({
    Name = "Credits",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

creditsTab:AddParagraph("Credits", "Script by Cayos.\nUI Framework by OrionLib.")
