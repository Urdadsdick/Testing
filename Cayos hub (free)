-- Initialize OrionLib
local OrionLib = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Orion/main/source'))()

local Window = OrionLib:MakeWindow({
    Name = "Cayos Hub for Street Wars 2",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "CayosHubConfig"
})

-- Initialize Global Variables
_G.autoMop = false
_G.autoPickup = false
_G.pickupRange = 5000000
_G.onePunch = false
_G.godMode = false
_G.flying = false
_G.speed = 50
_G.noclip = false

-- Function to Fly
local function startFly()
    if _G.flying then return end
    _G.flying = true
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    local bodyGyro = Instance.new("BodyGyro", humanoidRootPart)
    local bodyVelocity = Instance.new("BodyVelocity", humanoidRootPart)
    bodyGyro.P = 9e4
    bodyGyro.MaxTorque = Vector3.new(9e4, 9e4, 9e4)
    bodyGyro.CFrame = humanoidRootPart.CFrame
    bodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)

    while _G.flying do
        bodyGyro.CFrame = workspace.CurrentCamera.CFrame
        bodyVelocity.Velocity = workspace.CurrentCamera.CFrame.LookVector * _G.speed
        task.wait()
    end

    bodyGyro:Destroy()
    bodyVelocity:Destroy()
end

local function stopFly()
    _G.flying = false
end

-- Function for God Mode
local function enableGodMode()
    if _G.godMode then return end
    _G.godMode = true
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:FindFirstChild("Humanoid")

    humanoid:GetPropertyChangedSignal("Health"):Connect(function()
        if _G.godMode and humanoid.Health < humanoid.MaxHealth then
            humanoid.Health = humanoid.MaxHealth
        end
    end)
end

local function disableGodMode()
    _G.godMode = false
end

-- Function for One Punch
local function enableOnePunch()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    humanoidRootPart.Touched:Connect(function(hit)
        local otherPlayer = game.Players:GetPlayerFromCharacter(hit.Parent)
        if _G.onePunch and otherPlayer and otherPlayer ~= player then
            local otherHumanoid = hit.Parent:FindFirstChild("Humanoid")
            if otherHumanoid then
                otherHumanoid.Health = 0
            end
        end
    end)
end

-- Function to Kill a Player
local function killPlayer(targetPlayer)
    local character = targetPlayer.Character
    if character and character:FindFirstChild("Humanoid") then
        local humanoid = character.Humanoid
        humanoid.Health = 0
    end
end

-- Function to Kill All Players
local function killAllPlayers()
    for _, player in pairs(game.Players:GetPlayers()) do
        if player ~= game.Players.LocalPlayer then
            killPlayer(player)
        end
    end
end

-- Trolling Tab
local trollingTab = Window:MakeTab({
    Name = "Trolling",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Kill Player Dropdown
trollingTab:AddDropdown({
    Name = "Kill Player",
    Options = function()
        local playerNames = {}
        for _, player in pairs(game.Players:GetPlayers()) do
            if player ~= game.Players.LocalPlayer then
                table.insert(playerNames, player.Name)
            end
        end
        return playerNames
    end,
    Callback = function(selectedPlayer)
        local targetPlayer = game.Players:FindFirstChild(selectedPlayer)
        if targetPlayer then
            killPlayer(targetPlayer)
        end
    end
})

-- Kill All Toggle
trollingTab:AddToggle({
    Name = "Kill All Players",
    Default = false,
    Callback = function(state)
        if state then
            killAllPlayers()
        end
    end
})

-- Player Tab
local playerTab = Window:MakeTab({
    Name = "Player",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

playerTab:AddSlider({
    Name = "Walk Speed",
    Min = 16,
    Max = 100,
    Default = _G.speed,
    Callback = function(value)
        _G.speed = value
        local player = game.Players.LocalPlayer
        local humanoid = player.Character and player.Character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = _G.speed
        end
    end
})

playerTab:AddButton({
    Name = "Fly",
    Callback = function()
        startFly()
    end
})

playerTab:AddButton({
    Name = "Unfly",
    Callback = function()
        stopFly()
    end
})

-- Useful Tab
local usefulTab = Window:MakeTab({
    Name = "Useful",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

usefulTab:AddToggle({
    Name = "God Mode",
    Default = false,
    Callback = function(state)
        if state then
            enableGodMode()
        else
            disableGodMode()
        end
    end
})

usefulTab:AddToggle({
    Name = "One Punch",
    Default = false,
    Callback = function(state)
        _G.onePunch = state
        enableOnePunch()
    end
})

-- Gun Tab
local gunTab = Window:MakeTab({
    Name = "Guns",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

gunTab:AddToggle({
    Name = "Enable Auto Gun Pickup",
    Default = false,
    Callback = function(state)
        if state then
            startAutoPickup()
        else
            stopAutoPickup()
        end
    end
})

-- Teleport Tab
local teleportTab = Window:MakeTab({
    Name = "Teleports",
    Icon
